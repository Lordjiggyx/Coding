import{d as n,a as t,b as e,l as r,e as o,f as i,g as s,m as a,h as u,i as c}from"./index-7c3a2ef8.js";import l,{PureComponent as d}from"react";import f from"prop-types";import p,{css as m}from"styled-components";import"./_curry2-12509879.js";import"./_has-bd75b317.js";import"./featureDetects-426db7d2.js";import{m as h}from"./index-2a1ab813.js";import"./path-f5ccb8a3.js";import"./_isString-9eecd9ee.js";import b from"classnames";import{ICON_CLASSNAME as v,Glyph as g}from"./icon.js";import{g as x}from"./attachClassName-14171279.js";import"./_isArray-a8fe11f0.js";import"./misc-78673da2.js";import"./_xfBase-c1afe6f2.js";import"stream";import y from"react-click-outside";import{E as k}from"./Ellipsis-119daac9.js";import{_ as S}from"./isEmpty-80c9cae4.js";import"react-resizable";import"react-resize-detector";import{I as w,G as R}from"./Input-40f5c603.js";function j(){var t=n(["\n            &:hover {\n              ",";\n              ",";\n            }\n          "]);return j=function(){return t},t}function E(){var t=n(["\n                box-shadow: ",";\n              "]);return E=function(){return t},t}function I(){var t=n(["\n            ",";\n            ",";\n          "]);return I=function(){return t},t}function C(){var t=n(["\n            opacity: 0.5;\n          "]);return C=function(){return t},t}function z(){var t=n(["\n            overflow: hidden;\n            border-radius: ",";\n          "]);return z=function(){return t},t}function G(){var t=n(["\n            border-top-left-radius: ",";\n            border-top-right-radius: ",";\n          "]);return G=function(){return t},t}function H(){var t=n(["\n    ",";\n    transition: ",";\n    ."," svg {\n      transition: ",";\n      fill: ",";\n    };\n    ",";\n    ",";\n      };\n  "]);return H=function(){return t},t}function N(){var t=n(["\n          &:hover::placeholder {\n            color: ",";\n          }\n        "]);return N=function(){return t},t}function _(){var t=n(["\n        padding: 16px 9px 12px 44px;\n      "]);return _=function(){return t},t}function D(){var t=n(["\n        overflow: visible;\n        &:after {\n          border-radius: 0;\n        }\n      "]);return D=function(){return t},t}function F(){var t=n(["\n        opacity: 1;\n      "]);return F=function(){return t},t}function O(){var t=n(["\n      top: 16px;\n    "]);return O=function(){return t},t}function B(){var t=n(["\n    font-size: 16px;\n  "]);return B=function(){return t},t}function K(){var t=n(["\n  position: relative;\n  display: inline-flex;\n  align-items: center;\n  position: relative;\n  font-size: 14px;\n  ",";\n  ."," {\n    position: absolute;\n    left: 12px;\n    top: 11px;\n    ",";\n  }\n  ."," {\n    ",";\n    ",";\n    input {\n      min-width: 250px;\n      padding: 12px 9px 9px 44px;\n      transform: translateY(-2px);\n      ",";\n      ",";\n    }\n  }\n  ",";\n"]);return K=function(){return t},t}function V(){var t=n(["\n    background-color: ",";\n  "]);return V=function(){return t},t}function A(){var t=n(["\n  ."," svg {\n    fill: ",";\n  }\n"]);return A=function(){return t},t}var L=function(n){return m(A(),v,n.theme.colors.primary.base)},P=function(n,t){return!n&&m(V(),t)},T=p.form(K(),h.max.phone(B()),v,h.max.phone(O()),w,(function(n){return n.disabled&&m(F())}),(function(n){return n.hasResults&&m(D())}),h.max.phone(_()),(function(n){return!n.disabled&&m(N(),n.theme.colors.primary.base)}),(function(n){return m(H(),P(n.ghost,n.theme.colors.sensitiveGrey.base),n.theme.transition,v,n.theme.transition,n.theme.colors.richBlack.lightest,n.hasResults||n.ghost?m(G(),n.theme.borderRadius,n.theme.borderRadius):m(z(),n.theme.borderRadius),n.disabled?m(C()):n.focused?m(I(),!n.ghost&&m(E(),n.theme.boxShadow),L):m(j(),P(n.ghost,n.theme.colors.sensitiveGrey.dark),L))}));function W(){var t=n(["\n    background-color: ",";\n    border-bottom: 1px solid ",";\n    transition: ",";\n    cursor: pointer;\n    &:last-child {\n      border-bottom: none;\n    }\n    &:hover,\n    &:focus {\n      color: ",";\n      font-weight: ",";\n      outline: none;\n    }\n    &:hover {\n      background-color: ",";\n    }\n    &:focus {\n      background-color: ",";\n    }\n  "]);return W=function(){return t},t}function Y(){var t=n(["\n    padding: 13px 15px 15px;\n  "]);return Y=function(){return t},t}function q(){var t=n(["\n  padding: 9px 15px 12px;\n  ",";\n  ",";\n"]);return q=function(){return t},t}function J(){var t=n(["\n    box-shadow: ",";\n    border-bottom-left-radius: ",";\n    border-bottom-right-radius: ",";\n    z-index: ",";\n  "]);return J=function(){return t},t}function M(){var t=n(["\n  position: absolute;\n  top: 100%;\n  left: 0;\n  width: 100%;\n  overflow: hidden;\n  ",";\n"]);return M=function(){return t},t}var Q="Search…",U=p.div(M(),(function(n){return m(J(),n.theme.boxShadow,n.theme.borderRadius,n.theme.borderRadius,n.theme.zIndex.searchbarResults)})),X=p.div(q(),h.max.phone(Y()),(function(n){return m(W(),n.theme.colors.sensitiveGrey.base,n.theme.colors.sensitiveGrey.dark,n.theme.transition,n.theme.colors.primary.base,n.theme.fontWeight.black,n.theme.colors.sensitiveGrey.dark,n.theme.colors.sensitiveGrey.darker)})),Z=x(X),$=[],nn=function(n){function f(){var n,t;o(this,f);for(var e=arguments.length,u=new Array(e),c=0;c<e;c++)u[c]=arguments[c];return t=i(this,(n=s(f)).call.apply(n,[this].concat(u))),r(a(t),"state",{value:"",focused:!1,results:$}),r(a(t),"handleSubmit",(function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.state.value;n&&n.preventDefault(),t.props.disabled||(t.props.onSubmit(e),t.setInputValue(e),t.hideResults())})),r(a(t),"setInputValue",(function(n){var e="string"==typeof n&&n.trim().length?t.props.options.filter((function(t){return-1!==t.toLowerCase().indexOf(n.toLowerCase().trim())})):$;t.setState({value:n,results:e})})),r(a(t),"hideResults",(function(){return t.setState({results:$})})),r(a(t),"getInputFocusHandler",(function(n){return function(){return t.setState({focused:n})}})),r(a(t),"getResultOnClickHandler",(function(n){return function(){return t.handleSubmit(null,n)}})),r(a(t),"getResultKeyDownHandler",(function(n){return function(e){return"Enter"===e.key&&t.handleSubmit(null,n)}})),r(a(t),"handleClickOutside",t.hideResults),t}return t(f,d),e(f,[{key:"render",value:function(){var n=this,t=this.props,e=(t.onSubmit,t.disabled),r=t.placeholder,o=t.ghost,i=t.className,s=u(t,["onSubmit","disabled","placeholder","ghost","className"]),a=this.state,d=a.focused,p=a.value,m=a.results,h=!S(this.state.results);return l.createElement(T,c({onSubmit:this.handleSubmit,focused:h||d,hasResults:h,disabled:e,ghost:o,className:b(x(f),i)},s),l.createElement(g,{name:"search",size:18}),l.createElement(R,{placeholder:r,value:p,disabled:e,isFocused:h||null,onChange:this.setInputValue,onFocus:this.getInputFocusHandler(!0),onBlur:this.getInputFocusHandler(!1)}),l.createElement(U,{className:Z},m.map((function(t,e){return l.createElement(X,{tabIndex:"0",role:"button",key:e,onClick:n.getResultOnClickHandler(t),onKeyDown:n.getResultKeyDownHandler(t)},l.createElement(k,null,t))}))))}}]),f}();r(nn,"propTypes",{onSubmit:f.func,disabled:f.bool,ghost:f.bool,options:f.arrayOf(f.string),placeholder:f.string,className:f.string}),r(nn,"defaultProps",{onSubmit:function(){},disabled:!1,ghost:!1,options:[],placeholder:"Search…",className:null});var tn=y(nn);export default tn;export{Q as DEFAULT_PLACEHOLDER_TEXT,Z as RESULT_WRAPPER_CLASSNAME,X as ResultWrapper,nn as SearchBar};
