import{_ as e,d as n,h as t,i as r,a as o,b as a,l as i,e as s,f as u,g as p,m}from"./index-7c3a2ef8.js";import c,{PureComponent as d}from"react";import l from"prop-types";import f,{css as g}from"styled-components";import"./_curry2-12509879.js";import"./_curry3-40b58a44.js";import"./_has-bd75b317.js";import"polished";import"./featureDetects-426db7d2.js";import{c as P,n as h,m as b}from"./index-2a1ab813.js";import"./path-f5ccb8a3.js";import"./_isString-9eecd9ee.js";import x from"classnames";import{ICON_CLASSNAME as v,Glyph as T}from"./icon.js";import{g as w}from"./attachClassName-14171279.js";import"./_isArray-a8fe11f0.js";import{t as I}from"./misc-78673da2.js";import"./_xfBase-c1afe6f2.js";import"stream";import"react-click-outside";import"./checkbox.js";import"./tag.js";import"./Ellipsis-119daac9.js";import"./isEmpty-80c9cae4.js";import"./find-beb57f40.js";import{c as y,O as E,o as O}from"./DropdownTriggerWrapper-cd8a86c0.js";import"./_map-7921efc2.js";import j,{DROPDOWN_CLASSNAME as D}from"./dropdown.js";var A={PER_PAGE:function(){return"Items per page:"},OF_ITEMS:function(e){var n=e.amount,t=e.total;return"".concat(n," of ").concat(t," items")},OF_PAGES:function(e){var n=e.amount,t=e.total;return"".concat(n," of ").concat(t," pages")}};function S(){var e=n(["\n  margin-left: 13px;\n  margin-right: 24px;\n"]);return S=function(){return e},e}function C(){var e=n(["\n            border-top-right-radius: ",";\n          "]);return C=function(){return e},e}function _(){var e=n(["\n            border-bottom-right-radius: ",";\n          "]);return _=function(){return e},e}function R(){var e=n(["\n    border-left: 1px solid ",";\n    ",";\n  "]);return R=function(){return e},e}function k(){var e=n(["\n  position: relative;\n  z-index: 1;\n  max-height: 32px;\n  padding: 4px 8px;\n  cursor: pointer;\n  ",";\n  ",";\n  &:last-child {\n    padding-right: 19px;\n    ",";\n  }\n"]);return k=function(){return e},e}function B(){var e=n(["\n  padding-right: 13px;\n"]);return B=function(){return e},e}function G(){var e=n(["\n  padding-left: 25px;\n  span:first-child {\n    padding-right: 10px;\n  }\n"]);return G=function(){return e},e}function M(){var e=n(["\n  display: inline-flex;\n  align-items: center;\n"]);return M=function(){return e},e}function N(){var e=n(["\n            border-top-left-radius: ",";\n            border-top-right-radius: ",";\n          "]);return N=function(){return e},e}function q(){var e=n(["\n            border-bottom-left-radius: ",";\n            border-bottom-right-radius: ",";\n          "]);return q=function(){return e},e}function z(){var e=n(["\n    &,\n    > div {\n      background-color: ",";\n      ",";\n    }\n  "]);return z=function(){return e},e}function F(){var e=n(["\n  display: flex;\n  justify-content: space-between;\n  font-size: 12px;\n  white-space: nowrap;\n  max-width: 100%;\n  > div {\n    flex-shrink: 0;\n  }\n  ",";\n"]);return F=function(){return e},e}var L=f.div(F(),(function(e){return g(z(),e.theme.colors.white.base,e.isDisplayedBelowTable?g(q(),e.theme.borderRadius,e.theme.borderRadius):g(N(),e.theme.borderRadius,e.theme.borderRadius))})),U=f.div(M()),V=f(U)(G()),W=f(U)(B()),H=f.div.attrs((function(e){return{"data-test-value":e["data-test"]}}))(k(),(function(n){return g(R(),n.theme.colors.sensitiveGrey.base,P(e({},n,{defaultValue:"pointer"})))}),(function(e){return!e.disabled&&h("\n      background-color: ".concat(e.theme.colors.sensitiveGrey.dark,";\n    "))}),(function(e){return e.isDisplayedBelowTable?g(_(),e.theme.borderRadius):g(C(),e.theme.borderRadius)})),J=f.span(S());function K(){var e=n(["\n        bottom: 50px;\n        box-shadow: 0 5px 20px #0000003d;\n      "]);return K=function(){return e},e}function Q(){var e=n(["\n      // reverting the default dropdown mobile styles:\n      font-size: 14px;\n      ."," {\n        margin-left: 2px;\n        svg {\n          transform: scale(0.8);\n        }\n      };\n      min-width: 150px;\n    "]);return Q=function(){return e},e}function X(){var e=n(["\n      min-width: ","px !important;\n    "]);return X=function(){return e},e}function Y(){var e=n(["\n      padding: 3px ","px;\n    "]);return Y=function(){return e},e}function Z(){var e=n(["\n      border: none;\n    "]);return Z=function(){return e},e}function $(){var e=n(["\n  z-index: 0;\n  top: 0;\n  height: 100%;\n  padding: 0;\n  ",";\n  ."," {\n    border: none;\n    ",";\n  }\n  ."," {\n    ",";\n    ",";\n  }\n  ."," {\n    transform: translate(11px, 7px);\n    min-width: 160px;\n    right: 0;\n    ",";\n  }\n"]);return $=function(){return e},e}var ee=f(H)($(),(function(e){return e.isItemsPerPageDropdown&&g(Z())}),y,(function(e){return g(Y(),e.isItemsPerPageDropdown?11:2)}),D,(function(e){return g(X(),e.isItemsPerPageDropdown?64:51)}),b.max.phone(Q(),v),E,(function(e){return e.shouldOpenToTop&&g(K())})),ne=function(e){var n=e.options,o=e.isItemsPerPageDropdown,a=e.shouldOpenToTop,i=t(e,["options","isItemsPerPageDropdown","shouldOpenToTop"]);return c.createElement(ee,{isItemsPerPageDropdown:o,shouldOpenToTop:a},c.createElement(j,r({options:n,inline:!0},i)))};ne.propTypes={options:l.arrayOf(l.shape(O)).isRequired,isItemsPerPageDropdown:l.bool,shouldOpenToTop:l.bool},ne.defaultProps={isItemsPerPageDropdown:!1,shouldOpenToTop:!1};var te=function(e){return{name:e.toString(),id:e.toString()}},re=w({name:"TablePagination"}),oe=function(e){function n(){var e,t;s(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return t=u(this,(e=p(n)).call.apply(e,[this].concat(o))),i(m(t),"getPagesSum",(function(){return Math.ceil(t.props.itemsCount/t.props.itemsPerPageAmount)})),i(m(t),"getLastItemIndex",(function(){return Math.min(t.props.itemsCount,t.props.itemsPerPageAmount*t.props.currentPage)})),i(m(t),"getAmountOfItemsString",(function(){return"".concat(t.props.itemsPerPageAmount*(t.props.currentPage-1)+1,"-").concat(t.getLastItemIndex())})),i(m(t),"getPagesOptions",(function(){return I(t.getPagesSum()).map((function(e){return te(e+1)}))})),i(m(t),"getPerPageOptions",(function(){return t.props.itemsPerPageOptions.map(te)})),i(m(t),"getPageInBounds",(function(e){return Math.min(Math.max(1,e),t.getPagesSum())})),t}return o(n,d),a(n,[{key:"componentDidUpdate",value:function(){var e=this.props,n=e.onChange,t=e.currentPage,r=this.getPagesSum();r>0&&t>r&&n(r)}},{key:"render",value:function(){var e=this,n=this.props,o=n.currentPage,a=n.onChange,i=n.itemsCount,s=n.itemsPerPageAmount,u=(n.itemsPerPageOptions,n.onItemsPerPageAmountChange),p=n.perPageText,m=n.ofItemsText,d=n.ofPagesText,l=n.isDisplayedBelowTable,f=n.className,g=t(n,["currentPage","onChange","itemsCount","itemsPerPageAmount","itemsPerPageOptions","onItemsPerPageAmountChange","perPageText","ofItemsText","ofPagesText","isDisplayedBelowTable","className"]),P=1===o,h=o===this.getPagesSum();return c.createElement(L,r({className:x(f,re)},g,{isDisplayedBelowTable:l}),c.createElement(V,null,c.createElement("span",null,p()),c.createElement(ne,{value:s.toString(),options:this.getPerPageOptions(),onSubmit:function(e){var n=e.id;return u(parseInt(n))},shouldOpenToTop:l,isItemsPerPageDropdown:!0}),c.createElement(J,null,"|"),c.createElement("span",null,m({amount:this.getAmountOfItemsString(),total:i}))),c.createElement(U,null,c.createElement(W,null,c.createElement("span",null,d({amount:o,total:this.getPagesSum()}))),c.createElement(H,{disabled:P,onClick:function(){return a(e.getPageInBounds(o-1))}},c.createElement(T,{name:"arrowLeft",color:P?"sensitiveGrey.darker":void 0})),c.createElement(ne,{value:o.toString(),options:this.getPagesOptions(),onSubmit:function(e){var n=e.id;return a(parseInt(n))},shouldOpenToTop:l}),c.createElement(H,{disabled:h,onClick:function(){return a(e.getPageInBounds(o+1))},isDisplayedBelowTable:l,"data-test":"increaseCurrentPage"},c.createElement(T,{name:"arrowRight",color:h?"sensitiveGrey.darker":void 0}))))}}]),n}();i(oe,"propTypes",{itemsCount:l.number.isRequired,currentPage:l.number.isRequired,onChange:l.func.isRequired,onItemsPerPageAmountChange:l.func,itemsPerPageOptions:l.arrayOf(l.number),itemsPerPageAmount:l.number,perPageText:l.func,ofItemsText:l.func,ofPagesText:l.func,isDisplayedBelowTable:l.bool,className:l.string}),i(oe,"defaultProps",{itemsPerPageOptions:[10,20,40,80],itemsPerPageAmount:10,onItemsPerPageAmountChange:null,perPageText:A.PER_PAGE,ofItemsText:A.OF_ITEMS,ofPagesText:A.OF_PAGES,isDisplayedBelowTable:!1,className:null});export default oe;export{re as TABLE_PAGINATION_CLASSNAME};
