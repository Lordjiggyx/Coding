import{a as n,e,f as t,g as r,l as i,m as o,b as a,i as s,_ as l,d as u,h as c}from"./index-7c3a2ef8.js";import d,{PureComponent as p}from"react";import f from"prop-types";import h,{css as m}from"styled-components";import"./_curry2-12509879.js";import"./_has-bd75b317.js";import{h as g}from"./featureDetects-426db7d2.js";import{c as v}from"./index-2a1ab813.js";import"./path-f5ccb8a3.js";import"./_isString-9eecd9ee.js";import b from"classnames";import{ICON_CLASSNAME as y,Glyph as x}from"./icon.js";import{a as w,g as k}from"./attachClassName-14171279.js";import"./_isArray-a8fe11f0.js";import"./_xfBase-c1afe6f2.js";import"react-click-outside";import C,{TOOLTIP_WRAPPER_CLASSNAME as E}from"./tooltip.js";import{E as L}from"./Ellipsis-119daac9.js";import{_ as R}from"./isEmpty-80c9cae4.js";import{_ as O}from"./values-93760b27.js";import{_ as j}from"./find-beb57f40.js";var z={name:f.string,options:f.arrayOf(f.shape({name:f.string.isRequired,onClick:f.func}))},W={name:null,options:[]};function A(){var n=u(["\n        ."," {\n          transform: rotate(180deg);\n        }\n      "]);return A=function(){return n},n}function T(){var n=u(["\n                &:hover {\n                  background-color: ",";\n                }\n                &:focus {\n                  background-color: ",";\n                }\n              "]);return T=function(){return n},n}function I(){var n=u(["\n                background-color: ",";\n                &:focus,\n                &:hover {\n                  background-color: ",";\n                }\n              "]);return I=function(){return n},n}function _(){var n=u(["\n          cursor: pointer;\n          &:hover,\n          &:focus {\n            color: ",";\n            font-weight: ",";\n          }\n          &:focus {\n            outline: none;\n          }\n          ",";\n        "]);return _=function(){return n},n}function N(){var n=u(["\n          font-weight: ",";\n        "]);return N=function(){return n},n}function S(){var n=u(["\n        border-bottom: 1px solid ",";\n      "]);return S=function(){return n},n}function D(){var n=u(["\n    transition: ",";\n\n    ."," {\n      transition: ",";\n    }\n\n    ",";\n    ",";\n    ",";\n  "]);return D=function(){return n},n}function G(){var n=u(["\n  display: flex;\n  justify-content: space-between;\n  padding: 9px 15px 11px;\n  font-size: 14px;\n\n  ",";\n"]);return G=function(){return n},n}var H=h.div(G(),(function(n){return m(D(),n.theme.transition,y,n.theme.transition,!n.isLast&&m(S(),n.theme.colors.sensitiveGrey.dark),n.isHeadline?m(N(),n.theme.fontWeight.black):m(_(),n.theme.colors.primary.base,n.theme.fontWeight.black,n.isHighlighted?m(I(),n.theme.colors.sensitiveGrey.base,n.theme.colors.sensitiveGrey.darker):m(T(),n.theme.colors.sensitiveGrey.base,n.theme.colors.sensitiveGrey.darker)),!n.isExpanded&&m(A(),y))})),P=function(l){function u(){var n,a;e(this,u);for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];return a=t(this,(n=r(u)).call.apply(n,[this].concat(l))),i(o(a),"state",{isExpanded:!1}),i(o(a),"hasOptions",(function(){return!R(a.props.options)})),i(o(a),"handleClick",(function(){a.hasOptions()&&a.setState((function(n){return{isExpanded:!n.isExpanded}})),a.props.onClick&&a.props.onClick()})),i(o(a),"handleKeyDown",(function(n){return"Enter"===n.key&&a.handleClick()})),i(o(a),"calculateIndentationPadding",(function(n){return{paddingLeft:"".concat(10*n+15,"px")}})),a}return n(u,p),a(u,[{key:"render",value:function(){var n=this,e=this.props,t=e.name,r=e.options,i=e.style,o=e.depthIndex,a=e.isLast,l=e.isTopLevel,c=this.state.isExpanded;return d.createElement(d.Fragment,null,d.createElement(H,{onClick:this.handleClick,onKeyDown:this.handleKeyDown,isExpanded:c,style:i,isLast:a,isHighlighted:c||!l,tabIndex:"0",role:"button"},d.createElement(L,null,t),this.hasOptions()&&d.createElement(x,{size:20,name:"arrowTop"})),c&&r.map((function(e,t){return d.createElement(u,s({style:n.calculateIndentationPadding(o),key:t,depthIndex:o+1},e))})))}}]),u}();function X(){var n=u(["\n    border-radius: ",";\n  "]);return X=function(){return n},n}function q(){var n=u(["\n  overflow: hidden;\n  ",";\n"]);return q=function(){return n},n}i(P,"propTypes",l({},z,{style:f.object,depthIndex:f.number.isRequired,isLast:f.bool,isTopLevel:f.bool,onClick:f.func})),i(P,"defaultProps",l({},W,{style:{},isLast:!1,isTopLevel:!1,onClick:null}));var B=h.div(q(),(function(n){return m(X(),n.theme.borderRadius)})),K=function(i){function o(){return e(this,o),t(this,r(o).apply(this,arguments))}return n(o,p),a(o,[{key:"render",value:function(){var n=this.props,e=n.name,t=n.options,r=n.getRef,i=c(n,["name","options","getRef"]);return d.createElement(B,s({ref:r},i),d.createElement(H,{isHeadline:!0},d.createElement(L,null,e)),t.map((function(n,e){return d.createElement(P,s({depthIndex:1,isTopLevel:!0,isLast:e===t.length-1},n,{key:e}))})))}}]),o}();i(K,"propTypes",l({},z,{getRef:f.func})),i(K,"defaultProps",l({},W,{getRef:null}));var Y,M,F,U=w(K).Component;function V(){var n=u(["\n      .",":after {\n        left: 0;\n        right: 0;\n        margin: auto;\n      }\n    "]);return V=function(){return n},n}function J(){var n=u(["\n          max-width: ","px;\n          min-width: ","px;\n        "]);return J=function(){return n},n}function Q(){var n=u(["\n    ."," {\n      ",";\n      ",";\n      width: ",";\n    }\n  "]);return Q=function(){return n},n}function Z(){var n=u(["\n      opacity: 0.3;\n    "]);return Z=function(){return n},n}function $(){var n=u(["\n  ",";\n  ",";\n  ",";\n"]);return $=function(){return n},n}function nn(){var n=u(["\n  display: inline-block;\n  padding-left: 10px;\n  font-size: 14px;\n  ",";\n"]);return nn=function(){return n},n}function en(){var n=u(["\n    ",";\n    &:hover span {\n      ",";\n    }\n  "]);return en=function(){return n},n}function tn(){var n=u(["\n  display: inline-flex;\n  align-items: center;\n  ."," {\n    transform: translateY(-1px);\n  }\n  ",";\n"]);return tn=function(){return n},n}function rn(){var n=u(["\n      font-weight: ",";\n    "]);return rn=function(){return n},n}function on(){var n=u(["\n  color: ",";\n  padding-right: ","px;\n  transform: translateY(-","px)\n    ",";\n  ",";\n"]);return on=function(){return n},n}var an,sn={max:500,mid:250,min:150},ln=function(n){return m(on(),n.theme.colors[n.disabled||!n.isOpen?"black":"primary"].base,n.isOpen&&!n.disabled?10:13,n.alignLeft?1:2,n.isOpen&&!n.disabled&&!n.alignLeft&&"translateX(-3px)",!n.disabled&&m(rn(),n.theme.fontWeight[n.isOpen?"black":"regular"]))},un=h.div(tn(),y,(function(n){return m(en(),v(l({},n,{defaultValue:"pointer"})),ln(l({},n,{isOpen:!0})))})),cn=h.span(nn(),ln),dn=h.div($(),(function(n){return n.disabled&&m(Z())}),(function(n){return m(Q(),E,g()?"filter: drop-shadow(0 33px 20px rgba(0,0,0,0.2));":"box-shadow: ".concat(n.theme.doubleBoxShadow,";"),!n.width&&m(J(),n.maxWidth,n.maxWidth>=sn.mid?sn.mid:sn.min),n.width?"".concat(n.width,"px"):"auto")}),(function(n){return n.alignCenter&&m(V(),E)})),pn=(F=M=function(u){function f(){var n,a;e(this,f);for(var s=arguments.length,u=new Array(s),c=0;c<s;c++)u[c]=arguments[c];return a=t(this,(n=r(f)).call.apply(n,[this].concat(u))),i(o(a),"state",{isOpen:!1,tooltipWidth:"auto"}),i(o(a),"setIsOpen",(function(n){a.setState(l({isOpen:n},n&&{tooltipWidth:"auto"}),a.handleResize)})),i(o(a),"handleResize",(function(){if("undefined"!=typeof document&&!a.props.width&&a.state.isOpen&&a.flyOutContentRef){var n=window.innerWidth,e=a.flyOutContentRef.getBoundingClientRect(),t=e.left,r=e.right,i=e.width,o=a.isCenterAligned()?[sn.min]:sn,s=i/2+t,l=2*Math.min(n-s,s),u=a.isCenterAligned()?l:a.props.alignLeft?n-t:r;a.setState({tooltipWidth:j((function(n){return n<=u}),O(o))})}})),i(o(a),"isCenterAligned",(function(){return!a.props.label})),i(o(a),"renderLabel",(function(){return a.props.label&&d.createElement(cn,{alignLeft:a.props.alignLeft,disabled:a.props.disabled,isOpen:a.state.isOpen},a.props.label)})),a}return n(f,p),a(f,[{key:"render",value:function(){var n=this,e=this.props,t=e.name,r=e.options,i=e.alignLeft,o=e.disabled,a=e.width,l=e.className,u=c(e,["name","options","alignLeft","disabled","width","className"]),p=this.isCenterAligned()?20:15,h=this.isCenterAligned()?"translateX(50%) translateX(-".concat(p,"px)"):i?"translateX(-7px)":"translateX(6px)";return d.createElement(dn,s({alignCenter:this.isCenterAligned(),disabled:o,maxWidth:this.state.tooltipWidth,width:a,className:b(k(f),l)},u),d.createElement(C,{contentStyle:{padding:0,transform:"".concat(h," translateY(").concat(this.isCenterAligned()?2:6,"px)")},side:i?"left":"right",customTrigger:function(e){return d.createElement(un,{onClick:o?void 0:e,alignLeft:i,disabled:o},!i&&n.renderLabel(),d.createElement(x,{name:"dots",size:p,color:o?"black.base":void 0}),i&&n.renderLabel())},onToggle:this.setIsOpen},d.createElement(U,{name:t,options:r,getRef:function(e){return n.flyOutContentRef=e}})))}}]),f}(),i(M,"propTypes",{name:f.string,options:f.arrayOf(f.shape({name:f.string.isRequired,onClick:f.func})),label:f.node,alignLeft:f.bool,disabled:f.bool,width:f.number,className:f.string}),i(M,"defaultProps",{name:null,options:[],label:null,alignLeft:!1,disabled:!1,width:null,className:null}),an=Y=F,function(l){function u(){var n,a;e(this,u);for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];return a=t(this,(n=r(u)).call.apply(n,[this].concat(l))),i(o(a),"handleResize",(function(){if(!a.wrappedComponentRef.handleResize)throw new Error("please provide a handleResize handler");a.wrappedComponentRef.handleResize({width:window.innerWidth,height:window.innerHeight})})),a}return n(u,l),a(u,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.handleResize),this.handleResize()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize)}},{key:"render",value:function(){var n=this;return d.createElement(an,s({ref:function(e){return n.wrappedComponentRef=e}},this.props))}}]),u}(d.Component)||Y);export default pn;
