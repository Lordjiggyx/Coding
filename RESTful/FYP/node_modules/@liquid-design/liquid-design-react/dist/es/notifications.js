import{d as n,h as e,i as t,a as r,b as o,l as i,e as a,f as s,g as m,m as c,_ as u,k as f}from"./index-7c3a2ef8.js";import d,{PureComponent as l}from"react";import p from"prop-types";import v,{css as h}from"styled-components";import"./_curry2-12509879.js";import"./_curry3-40b58a44.js";import"./_has-bd75b317.js";import{Base as g}from"./theme.js";import"polished";import"./colors-fe7a2ec1.js";import"./featureDetects-426db7d2.js";import{m as b,n as y}from"./index-2a1ab813.js";import"./path-f5ccb8a3.js";import"./_isString-9eecd9ee.js";import x from"classnames";import{Glyph as j}from"./icon.js";import{a as R,g as E}from"./attachClassName-14171279.js";import{_ as w}from"./pick-3fb86206.js";import"./_isArray-a8fe11f0.js";import{g as k,f as N}from"./misc-78673da2.js";import"./_xfBase-c1afe6f2.js";import"stream";import I from"react-dom";import T from"uniqid";import _ from"react-animated-transitions";var D={isReminder:{color:"richBlue",icon:"bell"},isError:{color:"richRed",icon:"warning"},isInfo:{color:"vibrantYellow",icon:"info"}},H=Object.keys(D);function O(){var e=n(["\n  display: flex;\n  align-items: center;\n"]);return O=function(){return e},e}function S(){var e=n(["\n  padding-right: 10px;\n"]);return S=function(){return e},e}function q(){var e=n(["\n    color: ",";\n    background-color: ",";\n    border-radius: ",";\n    box-shadow: ",";\n    transition: ",";\n    font-weight: ",";\n    ","\n  "]);return q=function(){return e},e}function C(){var e=n(["\n    width: ","px;\n  "]);return C=function(){return e},e}function U(){var e=n(["\n  display: inline-flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 10px;\n  padding: 10px 15px;\n  font-size: 14px;\n  line-height: 1;\n  pointer-events: auto;\n  width: 100%;\n  ",";\n  ",";\n"]);return U=function(){return e},e}function z(){var e=n(["\n  pointer-events: none;\n"]);return z=function(){return e},e}var B=function(n){return k(w(H,n))},M=function(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=n.theme,o=n.color,i=e(n,["theme","color"]);if(o)return o;var a=B(i),s=a?D[a].color:"primary";return r.colors[s][t?"dark":"base"]},P=v.div(z()),A=function(n){return n.isInfo?"black":"white"},L=v.div(U(),b.customMin(540)(C(),500),(function(n){return h(q(),n.theme.colors[A(n)].base,M(n),n.theme.borderRadius,n.theme.boxShadow,n.theme.transition,n.theme.fontWeight.black,y("\n      background-color: ".concat(M(n,!0),";\n    ")))})),W=v.span(S()),Y=v.div(O()),F=function(n){var r=n.text,o=(n.isInfo,n.id),i=n.getRemoveHandler,a=e(n,["text","isInfo","id","getRemoveHandler"]),s=function(n){var e=B(n);return e&&D[e].icon}(n),m="".concat(A(n),".base");return d.createElement(P,null,d.createElement(L,t({},w(H,n),a),d.createElement(Y,null,s&&d.createElement(j,{color:m,name:s,size:20}),d.createElement(W,{style:s?{paddingLeft:"10px"}:{}},r)),d.createElement(j,{color:m,name:"close",size:20,onClick:i(o)})))};F.propTypes={text:p.node.isRequired,id:p.string.isRequired,getRemoveHandler:p.func.isRequired,isReminder:p.bool,isError:p.bool,isInfo:p.bool},F.defaultProps={isReminder:!1,isError:!1,isInfo:!1};var G=R(F).Component,J=function(n){if("undefined"!=typeof document){var e=document.getElementById(n);if(e)return e;var t=document.createElement("div");return t.id=n,document.body.appendChild(t),t}};function K(){var e=n(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  padding: ","px;\n  text-align: center;\n  pointer-events: none;\n  ",";\n  ",";\n  .animated {\n    animation-duration: ","ms;\n  }\n"]);return K=function(){return e},e}var Q=v.div(K(),20,"@keyframes fadeInDown {\r\n  from {\r\n    opacity: 0;\r\n    transform: translate3d(0, -100%, 0);\r\n  }\r\n\r\n  to {\r\n    opacity: 1;\r\n    transform: translate3d(0, 0, 0);\r\n  }\r\n}\r\n\r\n.fadeInDown {\r\n  animation-name: fadeInDown;\r\n}\r\n","@keyframes fadeOutUp {\r\n  from {\r\n    opacity: 1;\r\n  }\r\n\r\n  to {\r\n    opacity: 0;\r\n    transform: translate3d(0, -100%, 0);\r\n  }\r\n}\r\n\r\n.fadeOutUp {\r\n  animation-name: fadeOutUp;\r\n}\r\n",200),V=function(n){function p(){var n,e;a(this,p);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return e=s(this,(n=m(p)).call.apply(n,[this].concat(r))),i(c(e),"state",{items:[]}),i(c(e),"addNotification",(function(n){var t=T();e.setState((function(e){var r=e.items;return{items:[u({},n,{id:t})].concat(f(r))}})),n.isError||setTimeout(e.removeNotificationHandler(t),e.props.autoRemoveTimeout)})),i(c(e),"removeNotificationHandler",(function(n){return function(){e.setState((function(e){var t=e.items;return{items:N((function(e){return e.id!==n}),t)}}))}})),i(c(e),"getDOMNode",(function(){return J(E(p))})),e}return r(p,l),o(p,[{key:"render",value:function(){var n=this,r=this.props,o=r.autoRemoveTimeout,i=r.className,a=e(r,["autoRemoveTimeout","className"]);return I.createPortal(d.createElement(g,null,d.createElement(Q,t({},a,{className:x(i,E(p))}),d.createElement(_,{items:!0},this.state.items.map((function(e){return d.createElement(_,{key:e.id,item:!0,enter:"fadeInDown",exit:"fadeOutUp",timeout:180},d.createElement(G,t({getRemoveHandler:n.removeNotificationHandler,autoRemoveTimeout:o},e)))}))))),this.getDOMNode())}}]),p}();i(V,"propTypes",{autoRemoveTimeout:p.number,className:p.string}),i(V,"defaultProps",{autoRemoveTimeout:3e3,className:null});export default V;export{G as SingleNotification};
