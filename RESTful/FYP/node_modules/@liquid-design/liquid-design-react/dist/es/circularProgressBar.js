import{a as e,e as r,f as t,g as n,l as a,j as s,m as i,b as o,i as l,h as c,c as u,_ as m,d as f}from"./index-7c3a2ef8.js";import p,{PureComponent as d}from"react";import h from"prop-types";import v,{withTheme as g,css as b}from"styled-components";import"./_curry2-12509879.js";import"./_has-bd75b317.js";import"./featureDetects-426db7d2.js";import{c as k}from"./index-2a1ab813.js";import"./path-f5ccb8a3.js";import"./_isString-9eecd9ee.js";import y from"classnames";import{g as x}from"./attachClassName-14171279.js";import"./pick-3fb86206.js";import"./_isArray-a8fe11f0.js";import"./misc-78673da2.js";import"./_xfBase-c1afe6f2.js";import"stream";import j from"uniqid";import{g as E}from"./progressBars-838cc713.js";var C=Math.ceil(14/3),D=function(e){var r=e.isFull,t=e.maskId,n=c(e,["isFull","maskId"]);return p.createElement("circle",l({cx:50,cy:50,r:50,strokeWidth:14,strokeLinecap:r?"square":"round",fill:"none",mask:"url(#".concat(t,")")},n))};D.propTypes={isFull:h.bool.isRequired,maskId:h.string.isRequired};var N=function(c){function u(){var e,o;r(this,u);for(var l=arguments.length,c=new Array(l),m=0;m<l;m++)c[m]=arguments[m];return o=t(this,(e=n(u)).call.apply(e,[this].concat(c))),a(i(o),"id","".concat(s,"ProgressBarSVG--").concat(j())),a(i(o),"getNormalisedValue",(function(){var e=o.props.value;return 0!==e&&e%100==0?100:Math.max(e%100,C)})),a(i(o),"shouldDisplayFullCircle",(function(){var e=o.props.value;return 100===e||e>=200})),a(i(o),"getCircleLength",(function(){return 2*Math.PI*100/2})),a(i(o),"getDashOffset",(function(){var e=o.getCircleLength();return e-(e*o.getNormalisedValue()/100-14)})),o}return e(u,d),o(u,[{key:"render",value:function(){var e=this.props,r=e.value,t=e.color,n=this.shouldDisplayFullCircle(),a=r>100,s={maskId:this.id,isFull:n,strokeDasharray:this.getCircleLength(),stroke:t.main},i=n?0:this.getDashOffset(),o=a||r<=0;return p.createElement("svg",{viewBox:"0 0 ".concat(100," ").concat(100)},p.createElement("mask",{id:this.id},p.createElement("rect",{x:"0",y:"0",width:100,height:100,fill:"black"}),p.createElement("circle",{cx:50,cy:50,r:50,fill:"white"})),p.createElement(D,{maskId:s.maskId,isFull:!0,stroke:t.background}),p.createElement(D,l({},s,{strokeDashoffset:a?0:i},o&&{stroke:"transparent"})),p.createElement(D,l({},s,{strokeDashoffset:a?i:this.getCircleLength()},!a&&{stroke:"transparent"})))}}]),u}();function q(){var e=f(["\n      color: ",";\n    "]);return q=function(){return e},e}function F(){var e=f(["\n  font-size: 12px;\n  ",";\n"]);return F=function(){return e},e}function I(){var e=f(["\n    color: ",";\n  "]);return I=function(){return e},e}function w(){var e=f(["\n  font-family: ",";\n  font-size: 36px;\n  transform: translateY(-13%);\n  ",";\n"]);return w=function(){return e},e}function _(){var e=f(["\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  margin: auto;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]);return _=function(){return e},e}function B(){var e=f(["\n        transition: ",";\n      "]);return B=function(){return e},e}function L(){var e=f(["\n  position: relative;\n  width: 140px;\n  max-width: 100%;\n  ",";\n  svg {\n    transform: rotate(-84.2deg);\n    transform-origin: 50% 50%;\n    circle {\n      ",";\n    }\n  }\n"]);return L=function(){return e},e}a(N,"propTypes",{value:h.number.isRequired,color:h.object.isRequired});var R=x({name:"CircularProgressBar"}),T=v.div(L(),k,(function(e){return b(B(),e.theme.transition)})),P=v.div(_()),M=v.div(w(),u,(function(e){return b(I(),e.textColor)})),O=v.label(F(),(function(e){return e.disabled&&b(q(),e.theme.colors.sensitiveGrey.darker)})),V=function(e){var r=e.value,t=e.label,n=e.className,a=c(e,["value","label","className"]),s=E(m({isOverdue:r>100},a));return p.createElement(T,l({},a,{className:y(n,R)}),p.createElement(N,{value:r,color:s}),p.createElement(P,null,p.createElement(M,{textColor:s.main},r,"%"),p.createElement(O,{disabled:a.disabled},t)))};V.propTypes={theme:h.object.isRequired,value:h.number,label:h.string,disabled:h.bool,useThemeColors:h.bool,className:h.string},V.defaultProps={value:0,disabled:!1,useThemeColors:!1,label:null,className:null};var z=g(V);export default z;export{R as CIRCULAR_PROGRESS_BAR_CLASSNAME,V as CircularProgressBar,O as LabelWrapper,M as ValueWrapper};
